{% extends "layout.html" %} {% block scripts %}
<script src="/static/playground.js" defer></script>
{% endblock %} {% block main %}
<h1>Playground</h1>
<h2><label for="modelSelect">Choose Model</label></h2>

<div class="container">
  <div class="left-half">
    <select id="modelSelect">
      {% for model in config['models'] %}
      <option value="{{model.name}}">{{model.name}}</option>
      {% endfor %}
    </select>
  </div>
  <div id="promptReq" class="right-half"></div>
</div>
<br />
<div id="promptMenu" class="hidden-menu">
  <details>
    <summary>Model Description</summary>
    <div class="model-description">
      <label id="PromptDesc"></label>
    </div>
  </details>
</div>
<details>
  <summary>Generation Parameters</summary>
  <label>Max tokens<input id="maxTokens" type="number" value="128" /></label>
</details>

<!--INVISIBLE select box to populate prompts and keep track of them
    Probably not the most effecient way to do it-->
<select id="promptLong" class="hidden-menu">
  {% for model in config['models'] %}
  <option value="{{model.long_desc}}">{{model.long_desc}}</option>
  {% endfor %}
</select>
<select id="promptShort" class="hidden-menu">
  {% for model in config['models'] %}
  <option value="{{model.short_desc}}">{{model.short_desc}}</option>
  {% endfor %}
</select>

<h2><label for="input">Prompt</label></h2>
<!-- Do not indent the contents of the textarea. -->
<textarea id="input" name="input" autofocus disabled>
Waiting for models to load on the server...
Visit the status page for more information on model loading progress.
</textarea>

<input id="submitButton" type="button" value="Submit" disabled />

<h2>
  Response
  <div id="loadingSpinner" class="spinner-hidden"></div>
</h2>
<div id="outputResponse"></div>
{% endblock %}
